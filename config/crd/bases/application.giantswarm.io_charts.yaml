
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.2.4
  creationTimestamp: null
  name: charts.application.giantswarm.io
spec:
  group: application.giantswarm.io
  names:
    kind: Chart
    listKind: ChartList
    plural: charts
    singular: chart
  scope: Namespaced
  validation:
    openAPIV3Schema:
      description: |
        Defines a Chart resource, which represents an application version running on the cluster.
        This resource is created and managed by chart-operator running in each tenant cluster.
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          properties:
            config:
              description: |
                Defines the aggregated configuration values for the application chart. It is 
                created by app-operator in the tenant cluster to be used as values file by 
                chart operator during the helm installation process.
                proccess. 
              properties:
                configMap:
                  description: |
                    Defines a reference to a ConfigMap where is the aggregated configuration values 
                    from App Catalog, Cluster and User that will be used as values file in the helm
                    installation or upgrade process.
                  properties:
                    name:
                      description: |
                        Name of the ConfigMap resource.
                      type: string
                    namespace:
                      description: |
                        Namespace holding the ConfigMap resource.
                      type: string
                    resourceVersion:
                      description: ResourceVersion is the Kubernetes resource version
                        of the configmap. Used to detect if the configmap has changed,
                        e.g. 12345.
                      type: string
                  required:
                  - name
                  - namespace
                  - resourceVersion
                  type: object
                secret:
                  description: |
                    Defines a reference to a Secret where is the aggregated configuration values from App Catalog, Cluster and User that will be used as values file in the helm
                    installation or upgrade process.
                  properties:
                    name:
                      description: |
                        Name of the Secret resource.
                      type: string
                    namespace:
                      description: |
                        Namespace holding the Secret resource.
                      type: string
                    resourceVersion:
                      description: ResourceVersion is the Kubernetes resource version
                        of the secret. Used to detect if the secret has changed, e.g.
                        12345.
                      type: string
                  required:
                  - name
                  - namespace
                  - resourceVersion
                  type: object
              required:
              - configMap
              - secret
              type: object
            name:
              description: Name of this application Chart.
              type: string
            namespace:
              description: |
                Kubernetes namespace in which to install the workloads defined by this App Chart in
                the current cluster.
              type: string
            tarballURL:
              description: |
                URL of the application Chart to be deployed. The chart package must exist in the 
                App Catalog storage.
              type: string
            version:
              description: |
                Version of the application Chart to be deployed.
              type: string
          required:
          - config
          - name
          - namespace
          - tarballURL
          - version
          type: object
        status:
          properties:
            appVersion:
              description: AppVersion is the value of the AppVersion field in the
                Chart.yaml of the deployed chart. This is an optional field with the
                version of the component being deployed. e.g. 0.21.0. https://docs.helm.sh/developing_charts/#the-chart-yaml-file
              type: string
            reason:
              description: Reason is the description of the last status of helm release
                when the chart is not installed successfully, e.g. deploy resource
                already exists.
              type: string
            release:
              description: Release is the status of the Helm release for the deployed
                chart.
              properties:
                lastDeployed:
                  description: LastDeployed is the time when the deployed chart was
                    last deployed.
                  format: date-time
                  type: string
                revision:
                  description: Revision is the revision number for this deployed chart.
                  type: integer
                status:
                  description: Status is the status of the deployed chart, e.g. DEPLOYED.
                  type: string
              required:
              - lastDeployed
              - revision
              - status
              type: object
            version:
              description: Version is the value of the Version field in the Chart.yaml
                of the deployed chart. e.g. 1.0.0.
              type: string
          required:
          - appVersion
          - release
          - version
          type: object
      required:
      - metadata
      - spec
      type: object
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
