
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.2.4
  creationTimestamp: null
  name: azureclusters.infrastructure.cluster.x-k8s.io
spec:
  additionalPrinterColumns:
  - JSONPath: .metadata.labels.cluster\.x-k8s\.io/cluster-name
    description: Cluster to which this AzureCluster belongs
    name: Cluster
    type: string
  - JSONPath: .status.ready
    name: Ready
    type: boolean
  - JSONPath: .spec.resourceGroup
    name: Resource Group
    priority: 1
    type: string
  - JSONPath: .spec.subscriptionID
    name: SubscriptionID
    priority: 1
    type: string
  - JSONPath: .spec.location
    name: Location
    priority: 1
    type: string
  - JSONPath: .spec.controlPlaneEndpoint.host
    description: Control Plane Endpoint
    name: Endpoint
    priority: 1
    type: string
  group: infrastructure.cluster.x-k8s.io
  names:
    categories:
    - cluster-api
    kind: AzureCluster
    listKind: AzureClusterList
    plural: azureclusters
    singular: azurecluster
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: AzureCluster is the Schema for the azureclusters API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: AzureClusterSpec defines the desired state of AzureCluster
          properties:
            additionalTags:
              additionalProperties:
                type: string
              description: AdditionalTags is an optional set of tags to add to Azure
                resources managed by the Azure provider, in addition to the ones added
                by default.
              type: object
            controlPlaneEndpoint:
              description: ControlPlaneEndpoint represents the endpoint used to communicate
                with the control plane.
              properties:
                host:
                  description: The hostname on which the API server is serving.
                  type: string
                port:
                  description: The port on which the API server is serving.
                  format: int32
                  type: integer
              required:
              - host
              - port
              type: object
            location:
              type: string
            networkSpec:
              description: NetworkSpec encapsulates all things related to Azure network.
              properties:
                subnets:
                  description: Subnets is the configuration for the control-plane
                    subnet and the node subnet.
                  items:
                    description: SubnetSpec configures an Azure subnet.
                    properties:
                      cidrBlock:
                        description: CidrBlock is the CIDR block to be used when the
                          provider creates a managed Vnet.
                        type: string
                      id:
                        description: ID defines a unique identifier to reference this
                          resource.
                        type: string
                      internalLBIPAddress:
                        description: InternalLBIPAddress is the IP address that will
                          be used as the internal LB private IP. For the control plane
                          subnet only.
                        type: string
                      name:
                        description: Name defines a name for the subnet resource.
                        type: string
                      role:
                        description: Role defines the subnet role (eg. Node, ControlPlane)
                        type: string
                      securityGroup:
                        description: SecurityGroup defines the NSG (network security
                          group) that should be attached to this subnet.
                        properties:
                          id:
                            type: string
                          ingressRule:
                            description: IngressRules is a slice of Azure ingress
                              rules for security groups.
                            items:
                              description: IngressRule defines an Azure ingress rule
                                for security groups.
                              properties:
                                description:
                                  type: string
                                destination:
                                  description: Destination - The destination address
                                    prefix. CIDR or destination IP range. Asterix
                                    '*' can also be used to match all source IPs.
                                    Default tags such as 'VirtualNetwork', 'AzureLoadBalancer'
                                    and 'Internet' can also be used.
                                  type: string
                                destinationPorts:
                                  description: DestinationPorts - The destination
                                    port or range. Integer or range between 0 and
                                    65535. Asterix '*' can also be used to match all
                                    ports.
                                  type: string
                                protocol:
                                  description: SecurityGroupProtocol defines the protocol
                                    type for a security group rule.
                                  type: string
                                source:
                                  description: Source - The CIDR or source IP range.
                                    Asterix '*' can also be used to match all source
                                    IPs. Default tags such as 'VirtualNetwork', 'AzureLoadBalancer'
                                    and 'Internet' can also be used. If this is an
                                    ingress rule, specifies where network traffic
                                    originates from.
                                  type: string
                                sourcePorts:
                                  description: SourcePorts - The source port or range.
                                    Integer or range between 0 and 65535. Asterix
                                    '*' can also be used to match all ports.
                                  type: string
                              required:
                              - description
                              - protocol
                              type: object
                            type: array
                          name:
                            type: string
                          tags:
                            additionalProperties:
                              type: string
                            description: Tags defines a map of tags.
                            type: object
                        type: object
                    required:
                    - name
                    type: object
                  type: array
                vnet:
                  description: Vnet is the configuration for the Azure virtual network.
                  properties:
                    cidrBlock:
                      description: CidrBlock is the CIDR block to be used when the
                        provider creates a managed virtual network.
                      type: string
                    id:
                      description: ID is the identifier of the virtual network this
                        provider should use to create resources.
                      type: string
                    name:
                      description: Name defines a name for the virtual network resource.
                      type: string
                    resourceGroup:
                      description: ResourceGroup is the name of the resource group
                        of the existing virtual network or the resource group where
                        a managed virtual network should be created.
                      type: string
                    tags:
                      additionalProperties:
                        type: string
                      description: Tags is a collection of tags describing the resource.
                      type: object
                  required:
                  - name
                  type: object
              type: object
            resourceGroup:
              type: string
            subscriptionID:
              type: string
          required:
          - location
          - resourceGroup
          type: object
        status:
          description: AzureClusterStatus defines the observed state of AzureCluster
          properties:
            bastion:
              description: VM describes an Azure virtual machine.
              properties:
                addresses:
                  description: Addresses contains the addresses associated with the
                    Azure VM.
                  items:
                    description: NodeAddress contains information for the node's address.
                    properties:
                      address:
                        description: The node address.
                        type: string
                      type:
                        description: Node address type, one of Hostname, ExternalIP
                          or InternalIP.
                        type: string
                    required:
                    - address
                    - type
                    type: object
                  type: array
                availabilityZone:
                  type: string
                id:
                  type: string
                identity:
                  description: VMIdentity defines the identity of the virtual machine,
                    if configured.
                  enum:
                  - None
                  - SystemAssigned
                  type: string
                image:
                  description: Storage profile
                  properties:
                    id:
                      description: ID specifies an image to use by ID
                      type: string
                    marketplace:
                      description: Marketplace specifies an image to use from the
                        Azure Marketplace
                      properties:
                        offer:
                          description: Offer specifies the name of a group of related
                            images created by the publisher. For example, UbuntuServer,
                            WindowsServer
                          minLength: 1
                          type: string
                        publisher:
                          description: Publisher is the name of the organization that
                            created the image
                          minLength: 1
                          type: string
                        sku:
                          description: SKU specifies an instance of an offer, such
                            as a major release of a distribution. For example, 18.04-LTS,
                            2019-Datacenter
                          minLength: 1
                          type: string
                        version:
                          description: Version specifies the version of an image sku.
                            The allowed formats are Major.Minor.Build or 'latest'.
                            Major, Minor, and Build are decimal numbers. Specify 'latest'
                            to use the latest version of an image available at deploy
                            time. Even if you use 'latest', the VM image will not
                            automatically update after deploy time even if a new version
                            becomes available.
                          minLength: 1
                          type: string
                      required:
                      - offer
                      - publisher
                      - sku
                      - version
                      type: object
                    sharedGallery:
                      description: SharedGallery specifies an image to use from an
                        Azure Shared Image Gallery
                      properties:
                        gallery:
                          description: Gallery specifies the name of the shared image
                            gallery that contains the image
                          minLength: 1
                          type: string
                        name:
                          description: Name is the name of the image
                          minLength: 1
                          type: string
                        resourceGroup:
                          description: ResourceGroup specifies the resource group
                            containing the shared image gallery
                          minLength: 1
                          type: string
                        subscriptionID:
                          description: SubscriptionID is the identifier of the subscription
                            that contains the shared image gallery
                          minLength: 1
                          type: string
                        version:
                          description: Version specifies the version of the marketplace
                            image. The allowed formats are Major.Minor.Build or 'latest'.
                            Major, Minor, and Build are decimal numbers. Specify 'latest'
                            to use the latest version of an image available at deploy
                            time. Even if you use 'latest', the VM image will not
                            automatically update after deploy time even if a new version
                            becomes available.
                          minLength: 1
                          type: string
                      required:
                      - gallery
                      - name
                      - resourceGroup
                      - subscriptionID
                      - version
                      type: object
                  type: object
                name:
                  type: string
                osDisk:
                  description: OSDisk defines the operating system disk for a VM.
                  properties:
                    diskSizeGB:
                      format: int32
                      type: integer
                    managedDisk:
                      description: ManagedDisk defines the managed disk options for
                        a VM.
                      properties:
                        storageAccountType:
                          type: string
                      required:
                      - storageAccountType
                      type: object
                    osType:
                      type: string
                  required:
                  - diskSizeGB
                  - managedDisk
                  - osType
                  type: object
                startupScript:
                  type: string
                tags:
                  additionalProperties:
                    type: string
                  description: Tags defines a map of tags.
                  type: object
                vmSize:
                  description: Hardware profile
                  type: string
                vmState:
                  description: State - The provisioning state, which only appears
                    in the response.
                  type: string
              type: object
            failureDomains:
              additionalProperties:
                description: FailureDomainSpec is the Schema for Cluster API failure
                  domains. It allows controllers to understand how many failure domains
                  a cluster can optionally span across.
                properties:
                  attributes:
                    additionalProperties:
                      type: string
                    description: Attributes is a free form map of attributes an infrastructure
                      provider might use or require.
                    type: object
                  controlPlane:
                    description: ControlPlane determines if this failure domain is
                      suitable for use by control plane machines.
                    type: boolean
                type: object
              description: 'FailureDomains specifies the list of unique failure domains
                for the location/region of the cluster. A FailureDomain maps to Availability
                Zone with an Azure Region (if the region support them). An Availability
                Zone is a separate data center within a region and they can be used
                to ensure the cluster is more resilient to failure. See: https://docs.microsoft.com/en-us/azure/availability-zones/az-overview
                This list will be used by Cluster API to try and spread the machines
                across the failure domains.'
              type: object
            network:
              description: Network encapsulates the state of Azure networking resources.
              properties:
                apiServerIp:
                  description: APIServerIP is the Kubernetes API server public IP
                    address.
                  properties:
                    dnsName:
                      type: string
                    id:
                      type: string
                    ipAddress:
                      type: string
                    name:
                      type: string
                  type: object
                apiServerLb:
                  description: APIServerLB is the Kubernetes API server load balancer.
                  properties:
                    backendPool:
                      description: BackendPool defines a load balancer backend pool
                      properties:
                        id:
                          type: string
                        name:
                          type: string
                      type: object
                    frontendIpConfig:
                      description: FrontendIPConfig - DO NOT USE this empty struct
                        is here to preserve backwards compatibility and should be
                        removed in v1alpha4
                      type: object
                    id:
                      type: string
                    name:
                      type: string
                    sku:
                      description: SKU defines an Azure load balancer SKU.
                      type: string
                    tags:
                      additionalProperties:
                        type: string
                      description: Tags defines a map of tags.
                      type: object
                  type: object
                securityGroups:
                  additionalProperties:
                    description: SecurityGroup defines an Azure security group.
                    properties:
                      id:
                        type: string
                      ingressRule:
                        description: IngressRules is a slice of Azure ingress rules
                          for security groups.
                        items:
                          description: IngressRule defines an Azure ingress rule for
                            security groups.
                          properties:
                            description:
                              type: string
                            destination:
                              description: Destination - The destination address prefix.
                                CIDR or destination IP range. Asterix '*' can also
                                be used to match all source IPs. Default tags such
                                as 'VirtualNetwork', 'AzureLoadBalancer' and 'Internet'
                                can also be used.
                              type: string
                            destinationPorts:
                              description: DestinationPorts - The destination port
                                or range. Integer or range between 0 and 65535. Asterix
                                '*' can also be used to match all ports.
                              type: string
                            protocol:
                              description: SecurityGroupProtocol defines the protocol
                                type for a security group rule.
                              type: string
                            source:
                              description: Source - The CIDR or source IP range. Asterix
                                '*' can also be used to match all source IPs. Default
                                tags such as 'VirtualNetwork', 'AzureLoadBalancer'
                                and 'Internet' can also be used. If this is an ingress
                                rule, specifies where network traffic originates from.
                              type: string
                            sourcePorts:
                              description: SourcePorts - The source port or range.
                                Integer or range between 0 and 65535. Asterix '*'
                                can also be used to match all ports.
                              type: string
                          required:
                          - description
                          - protocol
                          type: object
                        type: array
                      name:
                        type: string
                      tags:
                        additionalProperties:
                          type: string
                        description: Tags defines a map of tags.
                        type: object
                    type: object
                  description: SecurityGroups is a map from the role/kind of the security
                    group to its unique name, if any.
                  type: object
              type: object
            ready:
              description: Ready is true when the provider resource is ready.
              type: boolean
          type: object
      type: object
  version: v1alpha3
  versions:
  - name: v1alpha3
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
